{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect } from 'react';\nimport { getSocket } from '../services/socket';\nconst useSocketNotifications = ({\n  userId,\n  onNotification,\n  onMessage\n}) => {\n  _s();\n  useEffect(() => {\n    if (!userId) return undefined;\n    const socket = getSocket();\n    socket.connect();\n    socket.emit('join', userId);\n    const handleNotification = payload => {\n      if (onNotification) onNotification(payload);\n    };\n    const handleMessage = payload => {\n      if (onMessage) onMessage(payload);\n    };\n    socket.on('notification:new', handleNotification);\n    socket.on('message:new', handleMessage);\n    return () => {\n      socket.off('notification:new', handleNotification);\n      socket.off('message:new', handleMessage);\n      socket.disconnect();\n    };\n  }, [onMessage, onNotification, userId]);\n};\n_s(useSocketNotifications, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\nexport default useSocketNotifications;","map":{"version":3,"names":["useEffect","getSocket","useSocketNotifications","userId","onNotification","onMessage","_s","undefined","socket","connect","emit","handleNotification","payload","handleMessage","on","off","disconnect"],"sources":["E:/react/skill_connect/client/src/hooks/useSocketNotifications.js"],"sourcesContent":["import { useEffect } from 'react'\r\nimport { getSocket } from '../services/socket'\r\n\r\nconst useSocketNotifications = ({ userId, onNotification, onMessage }) => {\r\n  useEffect(() => {\r\n    if (!userId) return undefined\r\n\r\n    const socket = getSocket()\r\n    socket.connect()\r\n    socket.emit('join', userId)\r\n\r\n    const handleNotification = (payload) => {\r\n      if (onNotification) onNotification(payload)\r\n    }\r\n\r\n    const handleMessage = (payload) => {\r\n      if (onMessage) onMessage(payload)\r\n    }\r\n\r\n    socket.on('notification:new', handleNotification)\r\n    socket.on('message:new', handleMessage)\r\n\r\n    return () => {\r\n      socket.off('notification:new', handleNotification)\r\n      socket.off('message:new', handleMessage)\r\n      socket.disconnect()\r\n    }\r\n  }, [onMessage, onNotification, userId])\r\n}\r\n\r\nexport default useSocketNotifications\r\n"],"mappings":";AAAA,SAASA,SAAS,QAAQ,OAAO;AACjC,SAASC,SAAS,QAAQ,oBAAoB;AAE9C,MAAMC,sBAAsB,GAAGA,CAAC;EAAEC,MAAM;EAAEC,cAAc;EAAEC;AAAU,CAAC,KAAK;EAAAC,EAAA;EACxEN,SAAS,CAAC,MAAM;IACd,IAAI,CAACG,MAAM,EAAE,OAAOI,SAAS;IAE7B,MAAMC,MAAM,GAAGP,SAAS,CAAC,CAAC;IAC1BO,MAAM,CAACC,OAAO,CAAC,CAAC;IAChBD,MAAM,CAACE,IAAI,CAAC,MAAM,EAAEP,MAAM,CAAC;IAE3B,MAAMQ,kBAAkB,GAAIC,OAAO,IAAK;MACtC,IAAIR,cAAc,EAAEA,cAAc,CAACQ,OAAO,CAAC;IAC7C,CAAC;IAED,MAAMC,aAAa,GAAID,OAAO,IAAK;MACjC,IAAIP,SAAS,EAAEA,SAAS,CAACO,OAAO,CAAC;IACnC,CAAC;IAEDJ,MAAM,CAACM,EAAE,CAAC,kBAAkB,EAAEH,kBAAkB,CAAC;IACjDH,MAAM,CAACM,EAAE,CAAC,aAAa,EAAED,aAAa,CAAC;IAEvC,OAAO,MAAM;MACXL,MAAM,CAACO,GAAG,CAAC,kBAAkB,EAAEJ,kBAAkB,CAAC;MAClDH,MAAM,CAACO,GAAG,CAAC,aAAa,EAAEF,aAAa,CAAC;MACxCL,MAAM,CAACQ,UAAU,CAAC,CAAC;IACrB,CAAC;EACH,CAAC,EAAE,CAACX,SAAS,EAAED,cAAc,EAAED,MAAM,CAAC,CAAC;AACzC,CAAC;AAAAG,EAAA,CAzBKJ,sBAAsB;AA2B5B,eAAeA,sBAAsB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}