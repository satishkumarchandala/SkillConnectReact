{"ast":null,"code":"const API_BASE_URL = process.env.REACT_APP_API_URL || \"http://localhost:5000/api/v1\";\nconst buildQuery = (params = {}) => {\n  const entries = Object.entries(params).filter(([, value]) => value !== undefined && value !== null && value !== \"\");\n  if (!entries.length) return \"\";\n  const query = new URLSearchParams(entries).toString();\n  return `?${query}`;\n};\nconst request = async (path, {\n  method = \"GET\",\n  body,\n  token,\n  params\n} = {}) => {\n  const url = `${API_BASE_URL}${path}${buildQuery(params)}`;\n  const headers = {\n    \"Content-Type\": \"application/json\"\n  };\n  if (token) headers.Authorization = `Bearer ${token}`;\n  const response = await fetch(url, {\n    method,\n    headers,\n    body: body ? JSON.stringify(body) : undefined\n  });\n  if (!response.ok) {\n    var _payload$error;\n    const payload = await response.json().catch(() => ({}));\n    const message = (payload === null || payload === void 0 ? void 0 : (_payload$error = payload.error) === null || _payload$error === void 0 ? void 0 : _payload$error.message) || \"Request failed\";\n    throw new Error(message);\n  }\n  if (response.status === 204) return null;\n  return response.json();\n};\nexport const api = {\n  get: (path, options) => request(path, {\n    ...options,\n    method: \"GET\"\n  }),\n  post: (path, options) => request(path, {\n    ...options,\n    method: \"POST\"\n  }),\n  patch: (path, options) => request(path, {\n    ...options,\n    method: \"PATCH\"\n  }),\n  delete: (path, options) => request(path, {\n    ...options,\n    method: \"DELETE\"\n  })\n};","map":{"version":3,"names":["API_BASE_URL","process","env","REACT_APP_API_URL","buildQuery","params","entries","Object","filter","value","undefined","length","query","URLSearchParams","toString","request","path","method","body","token","url","headers","Authorization","response","fetch","JSON","stringify","ok","_payload$error","payload","json","catch","message","error","Error","status","api","get","options","post","patch","delete"],"sources":["E:/react/skill_connect/client/src/services/api.js"],"sourcesContent":["const API_BASE_URL =\r\n  process.env.REACT_APP_API_URL || \"http://localhost:5000/api/v1\";\r\n\r\nconst buildQuery = (params = {}) => {\r\n  const entries = Object.entries(params).filter(\r\n    ([, value]) => value !== undefined && value !== null && value !== \"\"\r\n  );\r\n  if (!entries.length) return \"\";\r\n  const query = new URLSearchParams(entries).toString();\r\n  return `?${query}`;\r\n};\r\n\r\nconst request = async (path, { method = \"GET\", body, token, params } = {}) => {\r\n  const url = `${API_BASE_URL}${path}${buildQuery(params)}`;\r\n  const headers = { \"Content-Type\": \"application/json\" };\r\n  if (token) headers.Authorization = `Bearer ${token}`;\r\n\r\n  const response = await fetch(url, {\r\n    method,\r\n    headers,\r\n    body: body ? JSON.stringify(body) : undefined,\r\n  });\r\n\r\n  if (!response.ok) {\r\n    const payload = await response.json().catch(() => ({}));\r\n    const message = payload?.error?.message || \"Request failed\";\r\n    throw new Error(message);\r\n  }\r\n\r\n  if (response.status === 204) return null;\r\n  return response.json();\r\n};\r\n\r\nexport const api = {\r\n  get: (path, options) => request(path, { ...options, method: \"GET\" }),\r\n  post: (path, options) => request(path, { ...options, method: \"POST\" }),\r\n  patch: (path, options) => request(path, { ...options, method: \"PATCH\" }),\r\n  delete: (path, options) => request(path, { ...options, method: \"DELETE\" })\r\n};\r\n"],"mappings":"AAAA,MAAMA,YAAY,GAChBC,OAAO,CAACC,GAAG,CAACC,iBAAiB,IAAI,8BAA8B;AAEjE,MAAMC,UAAU,GAAGA,CAACC,MAAM,GAAG,CAAC,CAAC,KAAK;EAClC,MAAMC,OAAO,GAAGC,MAAM,CAACD,OAAO,CAACD,MAAM,CAAC,CAACG,MAAM,CAC3C,CAAC,GAAGC,KAAK,CAAC,KAAKA,KAAK,KAAKC,SAAS,IAAID,KAAK,KAAK,IAAI,IAAIA,KAAK,KAAK,EACpE,CAAC;EACD,IAAI,CAACH,OAAO,CAACK,MAAM,EAAE,OAAO,EAAE;EAC9B,MAAMC,KAAK,GAAG,IAAIC,eAAe,CAACP,OAAO,CAAC,CAACQ,QAAQ,CAAC,CAAC;EACrD,OAAO,IAAIF,KAAK,EAAE;AACpB,CAAC;AAED,MAAMG,OAAO,GAAG,MAAAA,CAAOC,IAAI,EAAE;EAAEC,MAAM,GAAG,KAAK;EAAEC,IAAI;EAAEC,KAAK;EAAEd;AAAO,CAAC,GAAG,CAAC,CAAC,KAAK;EAC5E,MAAMe,GAAG,GAAG,GAAGpB,YAAY,GAAGgB,IAAI,GAAGZ,UAAU,CAACC,MAAM,CAAC,EAAE;EACzD,MAAMgB,OAAO,GAAG;IAAE,cAAc,EAAE;EAAmB,CAAC;EACtD,IAAIF,KAAK,EAAEE,OAAO,CAACC,aAAa,GAAG,UAAUH,KAAK,EAAE;EAEpD,MAAMI,QAAQ,GAAG,MAAMC,KAAK,CAACJ,GAAG,EAAE;IAChCH,MAAM;IACNI,OAAO;IACPH,IAAI,EAAEA,IAAI,GAAGO,IAAI,CAACC,SAAS,CAACR,IAAI,CAAC,GAAGR;EACtC,CAAC,CAAC;EAEF,IAAI,CAACa,QAAQ,CAACI,EAAE,EAAE;IAAA,IAAAC,cAAA;IAChB,MAAMC,OAAO,GAAG,MAAMN,QAAQ,CAACO,IAAI,CAAC,CAAC,CAACC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;IACvD,MAAMC,OAAO,GAAG,CAAAH,OAAO,aAAPA,OAAO,wBAAAD,cAAA,GAAPC,OAAO,CAAEI,KAAK,cAAAL,cAAA,uBAAdA,cAAA,CAAgBI,OAAO,KAAI,gBAAgB;IAC3D,MAAM,IAAIE,KAAK,CAACF,OAAO,CAAC;EAC1B;EAEA,IAAIT,QAAQ,CAACY,MAAM,KAAK,GAAG,EAAE,OAAO,IAAI;EACxC,OAAOZ,QAAQ,CAACO,IAAI,CAAC,CAAC;AACxB,CAAC;AAED,OAAO,MAAMM,GAAG,GAAG;EACjBC,GAAG,EAAEA,CAACrB,IAAI,EAAEsB,OAAO,KAAKvB,OAAO,CAACC,IAAI,EAAE;IAAE,GAAGsB,OAAO;IAAErB,MAAM,EAAE;EAAM,CAAC,CAAC;EACpEsB,IAAI,EAAEA,CAACvB,IAAI,EAAEsB,OAAO,KAAKvB,OAAO,CAACC,IAAI,EAAE;IAAE,GAAGsB,OAAO;IAAErB,MAAM,EAAE;EAAO,CAAC,CAAC;EACtEuB,KAAK,EAAEA,CAACxB,IAAI,EAAEsB,OAAO,KAAKvB,OAAO,CAACC,IAAI,EAAE;IAAE,GAAGsB,OAAO;IAAErB,MAAM,EAAE;EAAQ,CAAC,CAAC;EACxEwB,MAAM,EAAEA,CAACzB,IAAI,EAAEsB,OAAO,KAAKvB,OAAO,CAACC,IAAI,EAAE;IAAE,GAAGsB,OAAO;IAAErB,MAAM,EAAE;EAAS,CAAC;AAC3E,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}